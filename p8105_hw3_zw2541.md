p8105\_hw3\_zw2541
================
Zixu\_Wang
10/5/2018

Problem 1
---------

#### Read and clean the data

``` r
library(p8105.datasets)

data("brfss_smart2010")

brfss = brfss_smart2010 %>% 
  janitor::clean_names() %>% 
  rename(state = locationabbr, county = locationdesc) %>% 
  filter(topic == "Overall Health") %>% 
  filter(response %in% c("Excellent", "Very good","Good", "Fair", "Poor")) %>% 
  mutate(response = factor(response, levels = c("Excellent", "Very good","Good", "Fair", "Poor")))
```

#### Using this dataset, do or answer the following:

1.  In 2002, which states were observed at 7 locations?

``` r
brfss %>% 
  filter(year == "2002") %>% 
  group_by(state) %>% 
  summarize(n_location = n_distinct(county)) %>% 
  filter(n_location == "7")
```

    ## # A tibble: 3 x 2
    ##   state n_location
    ##   <chr>      <int>
    ## 1 CT             7
    ## 2 FL             7
    ## 3 NC             7

In 2002, Connecticut, Florida, and North Carolina were observed at 7 locations.

1.  Make a “spaghetti plot” that shows the number of locations in each state from 2002 to 2010.

``` r
brfss %>% 
  group_by(state,year) %>% 
  summarize(n_locations = n_distinct(county)) %>% 
  ggplot(aes(x = year, y = n_locations, color = state)) +
  geom_line() +
  labs(
        title = "Spaghetti Plot-Number of Locations in Each State from 2002 to 2010",
        y = "Number of locations",
        x = "Year") +
  theme(legend.position = "bottom",
        legend.key.width = unit(.25, 'cm')) +
  guides(color = guide_legend(ncol = 15))
```

![](p8105_hw3_zw2541_files/figure-markdown_github/unnamed-chunk-3-1.png)

The figure above shows the number of locations being observed in each state from 2002 to 2010. For most states, number of locations approximately keep the same during these eight years and always below 20 locations. However, the number of locations in Florida changed dramaticly from 2006 to 2008.

1.  Make a table showing, for the years 2002, 2006, and 2010, the mean and standard deviation of the proportion of “Excellent” responses across locations in NY State.
